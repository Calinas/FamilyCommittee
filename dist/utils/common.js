'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.checkMobile = checkMobile;
exports.showMsg = showMsg;
exports.isEmptyString = isEmptyString;
exports.friendlyDate = friendlyDate;
exports.uploadImage = uploadImage;
exports.previewImage = previewImage;
exports.getOnlyDate = getOnlyDate;
exports.throttle = throttle;

var _wepy = require('./../npm/wepy/lib/wepy.js');

var _wepy2 = _interopRequireDefault(_wepy);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function checkMobile(phone) {
  var patrn = /^[1][345789]\d{9}$/;
  if (!patrn.exec(phone)) return false;
  return true;
}

// 2秒钟的弹窗
function showMsg(msg) {
  var timer = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2000;

  wx.showToast({
    title: msg,
    icon: 'none',
    duration: timer
  });
}

// 检查是否为空字符串
function isEmptyString(str) {
  return !str || str.length === 0 || /^\s*$/.test(str);
}

// 获取时间戳
function friendlyDate(stime) {
  var da = new Date();
  var sda = new Date(stime * 1000);
  var time2 = da.getTime();
  var time1 = stime * 1000;
  var time = 0;
  if (time1 > time2) {
    time = time1 - time2;
    sda = da;
  } else {
    time = time2 - time1;
  }
  if (time < 1000) return '刚刚';
  time = parseInt(time / 1000);
  if (time > 86400) {
    var day = parseInt(time / (24 * 60 * 60));
    if (day === 1) {
      return '昨天 ' + sda.getHours() + ':' + sda.getMinutes();
    } else if (day > 1 && day < 365) {
      var month = sda.getMonth() + 1;
      var date = sda.getDate();
      if (month <= 9) {
        month = '0' + month;
      }
      if (date <= 9) {
        date = '0' + date;
      }
      return month + '-' + date;
    } else {
      var month = sda.getMonth() + 1;
      var date = sda.getDate();
      if (month <= 9) {
        month = '0' + month;
      }
      if (date <= 9) {
        date = '0' + date;
      }
      return sda.getFullYear() + '-' + month + "-" + date;
    }
  } else if (time > 3600) {
    var hour = parseInt(time / (60 * 60));
    return hour + '小时前';
  } else if (time > 60) {
    var hour = parseInt(time / 60);
    return hour + '分钟前';
  } else {
    return time + '秒前';
  }
}

function uploadImage() {
  var memberInfo = wx.getStorageSync('memberInfo');
  return new Promise(function (resolve, reject) {
    wx.chooseImage({
      count: 1,
      sizeType: ['original', 'compressed'],
      sourceType: ['album', 'camera'],
      success: function success(res) {
        var tempFilePaths = res.tempFilePaths;
        wx.showLoading();
        wx.uploadFile({
          url: 'https://test.ctjwh.com/api/v1/file/uploadPic',
          filePath: tempFilePaths[0],
          formData: {
            'member_id': memberInfo.member_id,
            'member_token': memberInfo.member_token,
            'folder': 'committee'
          },
          name: 'file',
          success: function success(res) {
            var data = JSON.parse(res.data);
            var url = data.data.file_url;
            wx.hideLoading();
            resolve(url);
          }
        });
      }
    });
  });
}

// 图片放大功能
function previewImage(src, imgList) {
  wx.previewImage({
    current: src,
    urls: imgList
  });
}

// 只获取日期
function getOnlyDate(timeStr) {
  return timeStr.split(' ')[0];
}

// 函数节流
function throttle(method) {
  var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : window;
  var timer = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 300;

  clearTimeout(method.tId);
  method.tId = setTimeout(function () {
    method.call(context);
  }, timer);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJjaGVja01vYmlsZSIsInNob3dNc2ciLCJpc0VtcHR5U3RyaW5nIiwiZnJpZW5kbHlEYXRlIiwidXBsb2FkSW1hZ2UiLCJwcmV2aWV3SW1hZ2UiLCJnZXRPbmx5RGF0ZSIsInRocm90dGxlIiwicGhvbmUiLCJwYXRybiIsImV4ZWMiLCJtc2ciLCJ0aW1lciIsInd4Iiwic2hvd1RvYXN0IiwidGl0bGUiLCJpY29uIiwiZHVyYXRpb24iLCJzdHIiLCJsZW5ndGgiLCJ0ZXN0Iiwic3RpbWUiLCJkYSIsIkRhdGUiLCJzZGEiLCJ0aW1lMiIsImdldFRpbWUiLCJ0aW1lMSIsInRpbWUiLCJwYXJzZUludCIsImRheSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXRlIiwiZ2V0RGF0ZSIsImdldEZ1bGxZZWFyIiwiaG91ciIsIm1lbWJlckluZm8iLCJnZXRTdG9yYWdlU3luYyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2hvb3NlSW1hZ2UiLCJjb3VudCIsInNpemVUeXBlIiwic291cmNlVHlwZSIsInN1Y2Nlc3MiLCJ0ZW1wRmlsZVBhdGhzIiwicmVzIiwic2hvd0xvYWRpbmciLCJ1cGxvYWRGaWxlIiwidXJsIiwiZmlsZVBhdGgiLCJmb3JtRGF0YSIsIm1lbWJlcl9pZCIsIm1lbWJlcl90b2tlbiIsIm5hbWUiLCJkYXRhIiwiSlNPTiIsInBhcnNlIiwiZmlsZV91cmwiLCJoaWRlTG9hZGluZyIsInNyYyIsImltZ0xpc3QiLCJjdXJyZW50IiwidXJscyIsInRpbWVTdHIiLCJzcGxpdCIsIm1ldGhvZCIsImNvbnRleHQiLCJ3aW5kb3ciLCJjbGVhclRpbWVvdXQiLCJ0SWQiLCJzZXRUaW1lb3V0IiwiY2FsbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7UUFFZ0JBLFcsR0FBQUEsVztRQU9BQyxPLEdBQUFBLE87UUFTQUMsYSxHQUFBQSxhO1FBS0FDLFksR0FBQUEsWTtRQWtEQUMsVyxH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QXJCLEVBQThCO0FBQ25DLFNBQU9BLFFBQVFDLEtBQVIsQ0FBYyxHQUFkLEVBQW1CLENBQW5CLENBQVA7QUFDRDs7QUFFRDtBQUNPLFNBQVM5RCxRQUFULENBQWtCK0QsTUFBbEIsRUFBeUQ7QUFBQSxNQUEvQkMsT0FBK0IsdUVBQXJCQyxNQUFxQjtBQUFBLE1BQWI1RCxLQUFhLHVFQUFMLEdBQUs7O0FBQzlENkQsZUFBYUgsT0FBT0ksR0FBcEI7QUFDQUosU0FBT0ksR0FBUCxHQUFhQyxXQUFXLFlBQU07QUFDNUJMLFdBQU9NLElBQVAsQ0FBWUwsT0FBWjtBQUNELEdBRlksRUFFVjNELEtBRlUsQ0FBYjtBQUdEIiwiZmlsZSI6ImNvbW1vbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB3ZXB5IGZyb20gJ3dlcHknXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tNb2JpbGUocGhvbmUpIHtcclxuICBsZXQgcGF0cm4gPSAvXlsxXVszNDU3ODldXFxkezl9JC9cclxuICBpZiAoIXBhdHJuLmV4ZWMocGhvbmUpKSByZXR1cm4gZmFsc2VcclxuICByZXR1cm4gdHJ1ZVxyXG59XHJcblxyXG4vLyAy56eS6ZKf55qE5by556qXXHJcbmV4cG9ydCBmdW5jdGlvbiBzaG93TXNnKG1zZywgdGltZXIgPSAyMDAwKSB7XHJcbiAgd3guc2hvd1RvYXN0KHtcclxuICAgIHRpdGxlOiBtc2csXHJcbiAgICBpY29uOiAnbm9uZScsXHJcbiAgICBkdXJhdGlvbjogdGltZXJcclxuICB9KVxyXG59XHJcblxyXG4vLyDmo4Dmn6XmmK/lkKbkuLrnqbrlrZfnrKbkuLJcclxuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlTdHJpbmcoc3RyKSB7XHJcbiAgcmV0dXJuICghc3RyIHx8IHN0ci5sZW5ndGggPT09IDAgfHwgL15cXHMqJC8udGVzdChzdHIpKVxyXG59XHJcblxyXG4vLyDojrflj5bml7bpl7TmiLNcclxuZXhwb3J0IGZ1bmN0aW9uIGZyaWVuZGx5RGF0ZShzdGltZSkge1xyXG4gIHZhciBkYSA9IG5ldyBEYXRlKClcclxuICB2YXIgc2RhID0gbmV3IERhdGUoc3RpbWUgKiAxMDAwKVxyXG4gIHZhciB0aW1lMiA9IGRhLmdldFRpbWUoKVxyXG4gIHZhciB0aW1lMSA9IHN0aW1lICogMTAwMFxyXG4gIHZhciB0aW1lID0gMFxyXG4gIGlmICh0aW1lMSA+IHRpbWUyKSB7XHJcbiAgICB0aW1lID0gdGltZTEgLSB0aW1lMlxyXG4gICAgc2RhID0gZGFcclxuICB9IGVsc2Uge1xyXG4gICAgdGltZSA9IHRpbWUyIC0gdGltZTFcclxuICB9XHJcbiAgaWYgKHRpbWUgPCAxMDAwKSByZXR1cm4gJ+WImuWImidcclxuICB0aW1lID0gcGFyc2VJbnQodGltZSAvIDEwMDApXHJcbiAgaWYgKHRpbWUgPiA4NjQwMCkge1xyXG4gICAgdmFyIGRheSA9IHBhcnNlSW50KHRpbWUgLyAoMjQgKiA2MCAqIDYwKSlcclxuICAgIGlmIChkYXkgPT09IDEpIHtcclxuICAgICAgcmV0dXJuICfmmKjlpKkgJyArIHNkYS5nZXRIb3VycygpICsgJzonICsgc2RhLmdldE1pbnV0ZXMoKVxyXG4gICAgfSBlbHNlIGlmIChkYXkgPiAxICYmIGRheSA8IDM2NSkge1xyXG4gICAgICB2YXIgbW9udGggPSBzZGEuZ2V0TW9udGgoKSArIDFcclxuICAgICAgdmFyIGRhdGUgPSBzZGEuZ2V0RGF0ZSgpXHJcbiAgICAgIGlmIChtb250aCA8PSA5KSB7XHJcbiAgICAgICAgbW9udGggPSAnMCcgKyBtb250aFxyXG4gICAgICB9XHJcbiAgICAgIGlmIChkYXRlIDw9IDkpIHtcclxuICAgICAgICBkYXRlID0gJzAnICsgZGF0ZVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBtb250aCArICctJyArIGRhdGVcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBtb250aCA9IHNkYS5nZXRNb250aCgpICsgMVxyXG4gICAgICB2YXIgZGF0ZSA9IHNkYS5nZXREYXRlKClcclxuICAgICAgaWYgKG1vbnRoIDw9IDkpIHtcclxuICAgICAgICBtb250aCA9ICcwJyArIG1vbnRoXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGRhdGUgPD0gOSkge1xyXG4gICAgICAgIGRhdGUgPSAnMCcgKyBkYXRlXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHNkYS5nZXRGdWxsWWVhcigpICsgJy0nICsgbW9udGggKyBcIi1cIiArIGRhdGVcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKHRpbWUgPiAzNjAwKSB7XHJcbiAgICB2YXIgaG91ciA9IHBhcnNlSW50KHRpbWUgLyAoNjAgKiA2MCkpXHJcbiAgICByZXR1cm4gaG91ciArICflsI/ml7bliY0nXHJcbiAgfSBlbHNlIGlmICh0aW1lID4gNjApIHtcclxuICAgIHZhciBob3VyID0gcGFyc2VJbnQodGltZSAvIDYwKVxyXG4gICAgcmV0dXJuIGhvdXIgKyAn5YiG6ZKf5YmNJ1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gdGltZSArICfnp5LliY0nXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gdXBsb2FkSW1hZ2UoKSB7XHJcbiAgY29uc3QgbWVtYmVySW5mbyA9IHd4LmdldFN0b3JhZ2VTeW5jKCdtZW1iZXJJbmZvJylcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgd3guY2hvb3NlSW1hZ2Uoe1xyXG4gICAgICBjb3VudDogMSxcclxuICAgICAgc2l6ZVR5cGU6IFsnb3JpZ2luYWwnLCAnY29tcHJlc3NlZCddLFxyXG4gICAgICBzb3VyY2VUeXBlOiBbJ2FsYnVtJywgJ2NhbWVyYSddLFxyXG4gICAgICBzdWNjZXNzOiByZXMgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRlbXBGaWxlUGF0aHMgPSByZXMudGVtcEZpbGVQYXRoc1xyXG4gICAgICAgIHd4LnNob3dMb2FkaW5nKClcclxuICAgICAgICB3eC51cGxvYWRGaWxlKHtcclxuICAgICAgICAgIHVybDogJ2h0dHBzOi8vdGVzdC5jdGp3aC5jb20vYXBpL3YxL2ZpbGUvdXBsb2FkUGljJyxcclxuICAgICAgICAgIGZpbGVQYXRoOiB0ZW1wRmlsZVBhdGhzWzBdLFxyXG4gICAgICAgICAgZm9ybURhdGE6IHtcclxuICAgICAgICAgICAgJ21lbWJlcl9pZCc6IG1lbWJlckluZm8ubWVtYmVyX2lkLFxyXG4gICAgICAgICAgICAnbWVtYmVyX3Rva2VuJzogbWVtYmVySW5mby5tZW1iZXJfdG9rZW4sXHJcbiAgICAgICAgICAgICdmb2xkZXInOiAnY29tbWl0dGVlJ1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIG5hbWU6ICdmaWxlJyxcclxuICAgICAgICAgIHN1Y2Nlc3M6IHJlcyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKHJlcy5kYXRhKVxyXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBkYXRhLmRhdGEuZmlsZV91cmxcclxuICAgICAgICAgICAgd3guaGlkZUxvYWRpbmcoKVxyXG4gICAgICAgICAgICByZXNvbHZlKHVybClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH0pXHJcbn1cclxuXHJcbi8vIOWbvueJh+aUvuWkp+WKn+iDvVxyXG5leHBvcnQgZnVuY3Rpb24gcHJldmlld0ltYWdlKHNyYywgaW1nTGlzdCkge1xyXG4gIHd4LnByZXZpZXdJbWFnZSh7XHJcbiAgICBjdXJyZW50OiBzcmMsXHJcbiAgICB1cmxzOiBpbWdMaXN0XHJcbiAgfSlcclxufVxyXG5cclxuLy8g5Y+q6I635Y+W5pel5pyfXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRPbmx5RGF0ZSh0aW1lU3RyKSB7XHJcbiAgcmV0dXJuIHRpbWVTdHIuc3BsaXQoJyAnKVswXVxyXG59XHJcblxyXG4vLyDlh73mlbDoioLmtYFcclxuZXhwb3J0IGZ1bmN0aW9uIHRocm90dGxlKG1ldGhvZCwgY29udGV4dCA9IHdpbmRvdywgdGltZXIgPSAzMDApIHtcclxuICBjbGVhclRpbWVvdXQobWV0aG9kLnRJZClcclxuICBtZXRob2QudElkID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBtZXRob2QuY2FsbChjb250ZXh0KVxyXG4gIH0sIHRpbWVyKVxyXG59XHJcbiJdfQ==