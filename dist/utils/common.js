"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function checkMobile(e){return!!/^[1][345789]\d{9}$/.exec(e)}function showMsg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;wx.showToast({title:e,icon:"none",duration:t})}function isEmptyString(e){return!e||0===e.length||/^\s*$/.test(e)}function friendlyDate(e){var t=new Date,r=new Date(1e3*e),n=t.getTime(),i=1e3*e,o=0;if(i>n?(o=i-n,r=t):o=n-i,o<1e3)return"刚刚";if((o=parseInt(o/1e3))>86400){var a=parseInt(o/86400);if(1===a)return"昨天 "+r.getHours()+":"+r.getMinutes();if(a>1&&a<365){var u=r.getMonth()+1,s=r.getDate();return u<=9&&(u="0"+u),s<=9&&(s="0"+s),u+"-"+s}var u=r.getMonth()+1,s=r.getDate();return u<=9&&(u="0"+u),s<=9&&(s="0"+s),r.getFullYear()+"-"+u+"-"+s}if(o>3600){var c=parseInt(o/3600);return c+"小时前"}if(o>60){var c=parseInt(o/60);return c+"分钟前"}return o+"秒前"}function uploadImage(){var e=wx.getStorageSync("memberInfo");return new Promise(function(t,r){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(r){var n=r.tempFilePaths;wx.showLoading(),wx.uploadFile({url:_wepy2.default.$appConfig.baseUrl+"/file/uploadPic",filePath:n[0],formData:{member_id:e.member_id,member_token:e.member_token,folder:"committee"},name:"file",success:function(e){var r=JSON.parse(e.data),n=r.data.file_url;wx.hideLoading(),t(n)}})}})})}function previewImage(e,t){wx.previewImage({current:e,urls:t.map(filterImgList)})}function getOnlyDate(e){return e.split(" ")[0]}function throttle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300;clearTimeout(e.tId),e.tId=setTimeout(function(){e.call(t)},r)}function checkHasJoinClass(e,t){return!!t.filter(function(t){return Number(t.class.id)===Number(e)}).length}Object.defineProperty(exports,"__esModule",{value:!0}),exports.checkNum=exports.emptyObj=exports.filterArrayByValue=void 0,exports.checkMobile=checkMobile,exports.showMsg=showMsg,exports.isEmptyString=isEmptyString,exports.friendlyDate=friendlyDate,exports.uploadImage=uploadImage,exports.previewImage=previewImage,exports.getOnlyDate=getOnlyDate,exports.throttle=throttle,exports.checkHasJoinClass=checkHasJoinClass;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),reg=/^https/g,filterImgList=function(e){return e.match(reg)?e:e.replace(/http/,"https")},filterArrayByValue=exports.filterArrayByValue=function(e,t,r,n){for(var i=-1,o=0,a=t.length;o<a;o++)if(t[o].member_id===e){i=o;break}return r?(t.splice(i,1),t):t.concat(n)},emptyObj=exports.emptyObj=function(e){return Object.keys(e).forEach(function(t){e[t]=""}),e},checkNum=exports.checkNum=function(e){return!!/^([1-9]\d*|0)(\.\d*[1-9])?$/.exec(e)};